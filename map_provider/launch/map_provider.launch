<?xml version="1.0"?>

<launch>
	<!-- rplidar -->
	<include file ="$(find rplidar_ros)/launch/rplidar.launch" />
	
	<!--Load rviz-->
	<node pkg="rviz" type="rviz" name="rviz"
    	args="-d $(find map_provider)/rviz_cfg/map_provider.rviz"/>
	<!--<node name="alpha_plot" pkg="rqt_plot" type="rqt_plot" args="/alpha/data /alpha_th/data"/>
	<node name="rqt_reconfigure" pkg="rqt_reconfigure" type="rqt_reconfigure" args="/amcl"/>-->

	<!--Load map-->
	<arg name="map_file" default="$(find map_provider)/map_saver/ketqua1.yaml" />
	<node pkg="map_server" type="map_server" name="map_server" args="$(arg map_file)" />

	<!--AMCL-->
	<include file ="$(find map_provider)/launch/amcl.launch" />
	<!--<include file ="$(find amcl)/examples/amcl_diff.launch" />-->

	<!--move_base-->
	<!-- <include file ="$(find map_provider)/launch/move_base.launch" />
	-->
	
	<!-- tf -->
	<include file="$(find map_provider)/launch/slam_not_mapping.launch"/>
	<node pkg ="tf" type="static_transform_publisher" name="odom_to_base_link"  args="0.0 0.0 0.0 0.0 0.0 0.0 /odom /base_link 40"/>
	<node pkg ="tf" type="static_transform_publisher" name="base_link_to_laser" args="0.0 0.0 0.0 0.0 0.0 0.0 /base_link /laser 40" />
	
</launch>
